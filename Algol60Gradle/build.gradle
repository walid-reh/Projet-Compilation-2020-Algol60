plugins {
    id 'groovy'
    id 'java'
    id 'antlr'
    id 'application'
}

group 'org.example'
version 'Final'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}
run{
    standardInput = System.in
}
jar {
    doFirst {
        manifest {
            if (!configurations.compile.isEmpty()) {
                attributes(
                        'Class-Path': configurations.compile.collect{it.toURI().toString()}.join(' '),
                        'Main-Class': 'ALGOL60.main.Main')
            }
        }
    }
}


subprojects {
    apply plugin: 'java'
    tasks.withType(Jar) {
        destinationDir = file("$rootDir/build")
    }
}
application{
    mainClassName= "ALGOL60.main.Main"
}
dependencies {
    antlr "org.antlr:antlr:3.5.2"
    compile 'org.codehaus.groovy:groovy-all:2.3.11'
    testCompile group: 'junit', name: 'junit', version: '4.12'
	compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.0'

}
